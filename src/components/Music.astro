---
---

<a id="current-music" href="https://www.last.fm/user/Fluffy_Bean_">
    <img src="/leg.webp" alt="Track cover art" id="current-music-image"/>
    <ul>
        <li id="current-music-title">Track Name</li>
        <li id="current-music-artist">by Artist</li>
        <li id="current-music-album">on Album</li>
    </ul>
</a>

<script>
    const request = await fetch("https://lastfm-last-played.biancarosa.com.br/Fluffy_Bean_/latest-song");
    const data = await request.json();

    const image= document.querySelector("#current-music-image") as HTMLImageElement;
    const title = document.querySelector("#current-music-title") as HTMLParagraphElement;
    const artist = document.querySelector("#current-music-artist") as HTMLParagraphElement;
    const album = document.querySelector("#current-music-album") as HTMLParagraphElement;

    image.src = data["track"]["image"][1]["#text"];
    title.innerText = `Listening to ${data["track"]["name"]}`;
    artist.innerText = `by ${data["track"]["artist"]["#text"]}`;
    album.innerText = `on ${data["track"]["album"]["#text"]}`;
</script>

<style lang="scss">
    @import "../styles/vars.scss";

    #current-music {
        padding: 16px;

        display: flex;
        flex-direction: row;

        text-decoration: none;

        border-radius: $radius;
        background-color: $gray;
        color: $light;

        > img {
            margin-right: 16px;

            width: 64px;
            height: 64px;

            border-radius: $radius;
        }

        > ul {
            display: flex;
            flex-direction: column;

            > li {
                font-size: 16px;
                list-style: none;
            }
        }

        &:hover, &:focus-visible {
            background-color: lighten($gray, 1%);
        }
    }

    #current-music-title {
        font-weight: bold;
    }
</style>