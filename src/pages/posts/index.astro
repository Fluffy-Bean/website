---
import { getPosts } from "../../utils";
import Layout from "../../layouts/Layout.astro";
import HomeButton from "../../components/HomeButton.astro";
import Card from "../../components/Card.astro";

const posts = await getPosts("posts");
---

<Layout title="Leggy Land - All Posts">
    <HomeButton />

    <a href="/search" id="search" class="button" aria-label="Search">
        Search
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"></path></svg>
    </a>

    <div class="header">
        <h1>All Posts</h1>
        <p>Books of egg</p>
    </div>

    <span id="content-skip" />

    <ul role="list" class="project-list">
        {posts.map(post => (
            <Card {post}/>
        ))}
    </ul>
</Layout>

<style is:global lang="scss">
    @import "../../styles/vars";

    #search {
        padding: 0 20px;

        position: absolute;
        top: 8px;
        right: 0;

        border-top-right-radius: 0;
        border-bottom-right-radius: 0;

        transition: padding 1s cubic-bezier(0, 1, 0, 1);

        &::before {
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }
    }
</style>

