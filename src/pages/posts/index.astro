---
import { getImage } from "astro:assets";

import { getPosts } from "../../utils";
import Layout from "../../layouts/Layout.astro";
import HomeButton from "../../components/HomeButton.astro";
import Card from "../../components/Card.astro";
import BannerImg from "../../assets/banner-alt.webp";

const image = await getImage({src: BannerImg});
const posts = await getPosts("posts");
---

<Layout title="Leggy Land - All Posts" image={image.src} alt="alt">
    <HomeButton />

    <div class="header">
        <h1>All Posts</h1>
        <p>Egg Book</p>
    </div>

    <hr>

    <ul role="list" class="project-list">
        {posts.map(project => (
            <Card
                href=`/posts/${project.slug}`
                title={project.data.title}
                body={project.data.description}
            />
        ))}
    </ul>
</Layout>
