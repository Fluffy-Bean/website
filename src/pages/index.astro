---
import { getCollection } from "astro:content";

import { getPosts } from "../utils";
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import Certificate from "../components/Certificate.astro";
import Music from "../components/Music.astro";

const tools = ["Proxmox", "JetBrain IDEs", "Docker", "Linux", "SQLite", "Postgres", "MySQL"];
const languages = ["Go", "Python", "HTML", "CSS", "Sass", "TypeScript", "JavaScript", "Scratch", "PHP", "SQL", "Bash"];
const frameworks = ["Gin", "Echo", "Flask", "Svelte", "Astro", "raylib"];
const certificates = await getCollection("certificates");
const projects = await getPosts("projects");
const posts = await getPosts("posts");
---

<Layout title="Leggy Land" src="/banner-alt.webp" alt="Temporary Banner">
	<h1>Leggy Land</h1>
	<p>Made with Coffee, lots of it.</p>

	<div style="margin: 16px 0 32px">
		<Music />
	</div>

	<div class="section">
		<h2>Who am I</h2>
		<p>
			My name is Micha≈Ç, I go by Fluffy, I'm 19 and I like computers
			<br><br>
			I mainly do website stuff, work with the front and backend, but I also like networking and breaking things
			<br><br>
			My favorite language currently is Go, but I also know a few other languages that are listed below!
			<br><br>
			I use Arch btw.
		</p>
	</div>

	<div class="section">
		<ul class="pill-list">
			<li><a class="button" href="https://www.twitter.com/fluffybeanUwU" target="_blank">Twitter</a></li>
			<li><a class="button" href="https://bsky.app/profile/leggy.dev" target="_blank">BlueSky</a></li>
			<li><a class="button" href="https://t.me/Fluffy_Bean" target="_blank">Telegram</a></li>
			<li><a class="button" href="https://github.com/Fluffy-Bean" target="_blank">GitHub</a></li>
		</ul>
	</div>

	<div class="section">
		<h2>Tools</h2>
		<ul class="pill-list">
			{tools.map(tool => ( <li class="pill large">{tool}</li> ))}
		</ul>
	</div>

	<div class="section">
		<h2>Languages</h2>
		<ul class="pill-list">
			{languages.map(language => ( <li class="pill large">{language}</li> ))}
		</ul>
	</div>

	<div class="section">
		<h2>Frameworks</h2>
		<ul class="pill-list">
			{frameworks.map(framework => ( <li class="pill large">{framework}</li> ))}
		</ul>
	</div>

	<div class="section">
		<h2>Certificates</h2>
		<ul class="project-list">
			{certificates.map(certificate => (
				<li>
					<Certificate {certificate} />
				</li>
			))}
		</ul>
	</div>

	<div class="section">
		<h2>Projects</h2>
		<ul class="project-list">
			{projects.slice(0, 2).map(project => (
				<Card
					href=`/projects/${project.slug}`
					title={project.data.title}
					body={project.data.description}
				/>
			))}
		</ul>
		<a class="button" id="see-all-projects" href="/projects">All Projects</a>
	</div>

	<div class="section">
		<h2>Recent Posts</h2>
		<ul class="project-list">
			{posts.slice(0, 2).map(project => (
				<Card
					href=`/posts/${project.slug}`
					title={project.data.title}
					body={project.data.description}
				/>
			))}
		</ul>
		<a class="button" id="see-all-posts" href="/posts">All Posts</a>
	</div>
</Layout>

<style lang="scss">
	@import "../styles/vars.scss";

	#see-all-projects,
	#see-all-posts {
		margin-top: 16px;
		margin-left: auto;
	}
</style>
