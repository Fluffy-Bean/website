---
import { getCollection } from "astro:content";

import { getPosts } from "../utils";
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import Certificate from "../components/Certificate.astro";
import Music from "../components/Music.astro";

const tools = ["Proxmox", "JetBrain IDEs", "Docker", "Linux", "SQLite", "Postgres", "MySQL"];
const languages = ["Go", "Python", "HTML", "CSS", "Sass", "TypeScript", "JavaScript", "Scratch", "PHP", "SQL", "Bash"];
const frameworks = ["Gin", "Echo", "Flask", "Svelte", "Astro", "raylib"];
const certificates = await getCollection("certificates");
const posts = await getPosts("posts");
---

<Layout title="Leggy Land">
	<div class="header">
		<h1>Leggy Land</h1>
		<p>Made with Coffee, lots of it.</p>
		<Music />
	</div>

	<hr>

	<div class="section">
		<h2>Who am I</h2>
		<p>My name is Micha≈Ç, I go by Fluffy, I'm 19 and I like computers</p>
		<p>I mainly do website stuff, work with the front and backend, but I also like networking and breaking things</p>
		<p>My favorite language currently is Go, but I also know a few other languages that are listed below!</p>
		<p>In my free time, which isn't that often anymore, I enjoy playing games, such as The Witcher, Spin&nbsp;RhythmXD and other random stuff</p>
		<p>I use Arch btw.</p>
	</div>

	<div class="section">
		<h2>Stalk me here</h2>
		<ul class="pill-list" role="list">
			<li><a class="button" href="https://www.twitter.com/fluffybeanUwU" target="_blank">Twitter</a></li>
			<li><a class="button" href="https://bsky.app/profile/leggy.dev" target="_blank">BlueSky</a></li>
			<li><a class="button" href="https://t.me/Fluffy_Bean" target="_blank">Telegram</a></li>
			<li><a class="button" href="https://github.com/Fluffy-Bean" target="_blank">GitHub</a></li>
		</ul>
	</div>

	<div class="section">
		<h2>Tools</h2>
		<ul class="pill-list" role="list">
			{tools.map(tool => (
				<li class="pill large">
					{tool}
				</li>
			))}
		</ul>
	</div>

	<div class="section">
		<h2>Languages</h2>
		<ul class="pill-list" role="list">
			{languages.map(language => (
				<li class="pill large">
					{language}
				</li>
			))}
		</ul>
	</div>

	<div class="section">
		<h2>Frameworks</h2>
		<ul class="pill-list" role="list">
			{frameworks.map(framework => (
				<li class="pill large">
					{framework}
				</li>
			))}
		</ul>
	</div>

	<div class="section">
		<h2>Recent Posts</h2>
		{(posts.length > 0) ? (
			<ul class="project-list" role="list">
				{posts.slice(0, 2).map(post => (
					<Card {post} />
				))}
			</ul>
			<a class="button" id="see-all-posts" href="/posts">All Posts</a>
		) : (
			<p>No Posts yet made!</p>
		)}
	</div>

	<div class="section">
		<h2>Certificates</h2>
		<ul class="project-list" role="list">
			{certificates.map(certificate => (
				<li>
					<Certificate {certificate} />
				</li>
			))}
		</ul>
	</div>
</Layout>

<style lang="scss">
	@import "../styles/vars.scss";

	#see-all-projects,
	#see-all-posts {
		margin-top: 16px;
		margin-left: auto;
	}
</style>
